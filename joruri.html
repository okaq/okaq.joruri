<!DOCTYPE html>
<html lang="en">
    <head id="zeta">
        <title>okaq</title>
        <meta http-equiv="Content-Type" contains="text/html;charset=utf-8" />
        <meta name="viewport" content="width=1920,height=1080,initial-scale=1" />
        <meta name="source" content="https://github.com/okaq/okaq.joruri" />
        <meta name="creator" content="AQ <aq@okaq.com>" />
        <meta name="date" content="2014-10-04" />
        <link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAMklEQVR4nGL5/0yOgZaAiaamj1owasGoBaMWjFowasGoBaMWjFowasGoBVQEgAAAAP//F0ECRujA188AAAAASUVORK5CYII=" />
    <style type="text/css">
        html,body{width:1920px;height:1080px;margin:0px;border:0px;padding:0px;background-color:rgba(255,255,255,1.0);}
    </style>
    <script type="text/javascript">
        console.log("okaq.joruri ok!");
        // async load
        (function() {
         console.log("async load");
         window.addEventListener("load", function(e){g.start(e);}, false);
         })();
// game
var g = {
    "start": function(e) {
        console.log(e);
        console.log("game init...");
        // subsystems
        // (dom, palette, canvas, data, conn)
        g.subs = [d,p,c,db,conn,rgb];
        g.init_all();
    },
    "init_all": function() {
        // start all subsystems
        g.subs.forEach(function(el){el.init();});
    }
}
// dom
var d = {
    "init": function() {
        console.log("dom init...");
        d.alpha = document.getElementById("alpha");
        console.log(d.alpha);
    },
    "add": function(el) {
        d.alpha.appendChild(el);
    },
    "canvas": function(w,h,x,y) {
        var c0 = {};
        c0.can = document.createElement("canvas");
        c0.con = c0.can.getContext("2d");
    }
}
// palette
var p = {
    "init": function() {
        console.log("palette init...");
        // render, clear (bkgd, context)
    }
}
// canvas
var c = {
    "init": function() {
        console.log("canvas init...");
    }
}
// data
var db = {
    "init": function() {
        console.log("data init...");
    }
}
// xhr
var conn = {
    "init": function() {
        console.log("conn init...");
        conn.xhr = new XMLHttpRequest();
        console.log(conn.xhr);
        conn.url = "www.okaq.com/aa";
    }
}
// rgb
var rgb = {
    "init": function() {
        console.log("colors init...");
        rgb.rand = [0,0,0,0];
        rgb.shuffle(1.0);
        console.log(rgb.css(rgb.rand));
    },
    "bytes": function() {
        return (Math.random() * 255) >>> 0;
    },
    "shuffle": function(a0) {
        for (var i = 0; i < 3; i++) {
            rgb.rand[i] = rgb.bytes();
        }
        rgb.rand[3] = a0 || Math.random();
    },
    "css": function(a0) {
        return "rgba(" + a0.join(",") + ")";
    }
}
     </script>
 </head>
 <body id="alpha">
 </body>
</html>
